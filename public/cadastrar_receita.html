<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="../css/receitas.css">
</head>

<body>
  <div class="section">
      <div class="box" style="align-items: center;">
          <div class="login-box">
              <span class="nome">
                  <h4>
                    LOGIN
                  </h4>
                </span>
              <div class="campos min">
                <form>
                    <input id="ipt_nome" required placeholder="Nome da receita:"/>
                </form>
              </div>
              <div class="campos min">
                <form>
                  <input id="ipt_tempo" type="text" required placeholder="Tempo de preparo (digite o tempo em minutos):" />
                </form>
              </div>
              <div class="campos min">
                <form>
                  <input id="ipt_categoria" type="text" required placeholder="Categoria:" />
                </form>
              </div>
              <div class="campos min">
                <form>
                  <input id="ipt_descricao" type="text" required placeholder="Descrição:" />
                </form>
              </div>
              <div class="ingredientes">
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente1" type="text" required placeholder="Ingrediente1:" />
                    <input id="iptqtd_Ingrediente1" type="number" required placeholder="Quantidade do Ingrediente1:" />
                    <select id="slc_Ingrediente1">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente2" type="text" required placeholder="Ingrediente2:" />
                    <input id="iptqtd_Ingrediente2" type="number" required placeholder="Quantidade do Ingrediente2:" />
                    <select id="slc_Ingrediente2">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente3" type="text" required placeholder="Ingrediente3:" />
                    <input id="iptqtd_Ingrediente3" type="number" required placeholder="Quantidade do Ingrediente3:" />
                    <select id="slc_Ingrediente3">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente4" type="text" required placeholder="Ingrediente4:" />
                    <input id="iptqtd_Ingrediente4" type="number" required placeholder="Quantidade do Ingrediente4:" />
                    <select id="slc_Ingrediente4">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente5" type="text" required placeholder="Ingrediente5:" />
                    <input id="iptqtd_Ingrediente5" type="number" required placeholder="Quantidade do Ingrediente5:" />
                    <select id="slc_Ingrediente5">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente6" type="text" required placeholder="Ingrediente6:" />
                    <input id="iptqtd_Ingrediente6" type="number" required placeholder="Quantidade do Ingrediente6:" />
                    <select id="slc_Ingrediente6">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente7" type="text" required placeholder="Ingrediente7:" />
                    <input id="iptqtd_Ingrediente7" type="number" required placeholder="Quantidade do Ingrediente7:" />
                    <select id="slc_Ingrediente7">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente8" type="text" required placeholder="Ingrediente8:" />
                    <input id="iptqtd_Ingrediente8" type="number" required placeholder="Quantidade do Ingrediente8:" />
                    <select id="slc_Ingrediente8">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="iptnome_Ingrediente9" type="text" required placeholder="Ingrediente9:" />
                    <input id="iptqtd_Ingrediente9" type="number" required placeholder="Quantidade do Ingrediente9:" />
                    <select id="slc_Ingrediente9">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
                <div class="ingred-camp">
                  <form>
                    <input id="ipt_nome_Ingrediente10" type="text" required placeholder="Ingrediente10:" />
                    <input id="ipt_qtd_Ingrediente10" type="number" required placeholder="Quantidade do Ingrediente10:" />
                    <select id="slc_Ingrediente10">
                      <option value="unidade">Unidades</option>
                      <option value="KG">KG</option>
                      <option value="gramas">Gramas</option>
                      <option value="xicaras">Xicaras</option>
                      <option value="Copos">Copos</option>
                      <option value="colheres (chá)">colheres (chá)</option>
                      <option value="colheres (sopa)">colheres (sopa)</option>
                      <option value="ml">ml</option>
                      <option value="litros">litros</option>
                    </select>
                </div>
              </div>
                <button onclick="cadastrar_receita()">Cadastrar</button>
          </div>
      </div>
  </div>
  
  <div class="side">
    <div class="user">
        <div class="line">
            <div class="foto"><img src="../assets/imgs/chef.webp"></div>
            <h3>Olá, Bem vindo</h3>
        </div>
    </div>
    <div class="box">
        <div class="menu">
          <div onclick="dasboard()">Dashboard</div>
          <div onclick="receitas()" style="background-color: #E08E37;">Cadastrar receitas</div>
        </div>
        <div class="sair">
            <div>
                <h2><a href="../index.html"><span>SAIR</span></a></h2>
            </div>
        </div>
    </div>
  </div>

</body>
</html>

<script>

function dasboard(){
    window.location.href = './dashboard/dasboard.html';
}
function receitas(){
    window.location.href = 'cadastrar_receitas.html';
}

  function cadastrar_receita() {
    var nomeReceita = ipt_nome.value;
    var tempoReceita = ipt_tempo.value;
    var categoria = ipt_categoria.value;
    var Ingrediente1 = `${iptnome_Ingrediente1.value} ${iptqtd_Ingrediente1.value} ${slc_Ingrediente1.value}`;
    var Ingrediente2 = `${iptnome_Ingrediente2.value} ${iptqtd_Ingrediente2.value} ${slc_Ingrediente2.value}`;
    var Ingrediente3 = `${iptnome_Ingrediente3.value} ${iptqtd_Ingrediente3.value} ${slc_Ingrediente3.value}`;
    var Ingrediente4 = `${iptnome_Ingrediente4.value} ${iptqtd_Ingrediente4.value} ${slc_Ingrediente4.value}`;
    var Ingrediente5 = `${iptnome_Ingrediente5.value} ${iptqtd_Ingrediente5.value} ${slc_Ingrediente5.value}`;
    var Ingrediente6 = `${iptnome_Ingrediente6.value} ${iptqtd_Ingrediente6.value} ${slc_Ingrediente6.value}`;
    var Ingrediente7 = `${iptnome_Ingrediente7.value} ${iptqtd_Ingrediente7.value} ${slc_Ingrediente7.value}`;
    var Ingrediente8 = `${iptnome_Ingrediente8.value} ${iptqtd_Ingrediente8.value} ${slc_Ingrediente8.value}`;
    var Ingrediente9 = `${iptnome_Ingrediente9.value} ${iptqtd_Ingrediente9.value} ${slc_Ingrediente9.value}`;
    var Ingrediente10 = `${ipt_nome_Ingrediente10.value} ${ipt_qtd_Ingrediente10.value} ${slc_Ingrediente10.value}`;
    var descricao = ipt_descricao.value;

    if (
      nomeReceita == "" ||
      tempoReceita == "" ||
      categoria == "" ||
      iptnome_Ingrediente1.value == "" || iptqtd_Ingrediente1.value == "" || slc_Ingrediente1.value == "" ||
      iptnome_Ingrediente2.value == "" || iptqtd_Ingrediente2.value == "" || slc_Ingrediente2.value == "" ||
      iptnome_Ingrediente3.value == "" || iptqtd_Ingrediente3.value == "" || slc_Ingrediente3.value == "" ||
      iptnome_Ingrediente4.value == "" || iptqtd_Ingrediente4.value == "" || slc_Ingrediente4.value == "" ||
      iptnome_Ingrediente5.value == "" || iptqtd_Ingrediente5.value == "" || slc_Ingrediente5.value == "" ||
      ipt_descricao.value == ""
    ) {
      alert("Preencha todos os campos! (numero minimo de 5 ingredientes para cadastrar uma receita)")
      return false;
    }
    
    console.log("Nome: ", nomeReceita )
    console.log("Tempo:  " , tempoReceita)
    console.log("Categor i a: " , categoria)
    console.log("1: " , Ingrediente1) 
    console.log("2: " , Ingrediente2) 
    console.log("3: " , Ingrediente3) 
    console.log("4: " , Ingrediente4) 
    console.log("5: " , Ingrediente5) 
    console.log("6: " , Ingrediente6) 
    console.log("7: " , Ingrediente7) 
    console.log("8: " , Ingrediente8) 
    console.log("9: " , Ingrediente9)
    console.log("10: ", Ingrediente10)




    fetch("/aquarios/cadastrar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        nomeReceitaServer : nomeReceita,
        tempoReceitaServer : tempoReceita,
        categoriaServer : categoria,
        Ingrediente1Server : Ingrediente1,
        Ingrediente2Server : Ingrediente2,
        Ingrediente3Server : Ingrediente3,
        Ingrediente4Server : Ingrediente4,
        Ingrediente5Server : Ingrediente5,
        Ingrediente6Server : Ingrediente6,
        Ingrediente7Server : Ingrediente7,
        Ingrediente8Server : Ingrediente8,
        Ingrediente9Server : Ingrediente9,
        Ingrediente10Server : Ingrediente10,
        descricaoServer : descricao,
      }),
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

        if (resposta.ok) {
          console.log("Cadastro realizado !!")
          // setTimeout(() => {
          //   window.location = "login.html";
          // }, "2000");
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
      });

    return false;
  }
</script>