<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="./css/cadastro.css">
</head>

<body>
  <div class="header">
    <div class="menu">
      <div class="home"><a href="index.html">HOME</a></div>
      <div class="sobre"><a href="index.html#sobre">Sobre</a></div>
      <div class="contato"><a href="index.html#contato">Contato</a></div>
      <div class="receitas"><a href="index.html#receitas">Receitas</a></div>
    </div>
      <div class="acesso">
        <div class="login" onclick="login()">
          <span>Login</span>
        </div>
        <div class="cadastro" style="background-color: #e08e37;">
          <span>Cadastre-se</span>
        </div>
    </div>
  </div>

  <div class="section">
    <div class="box">
      <div class="login-box">
        <span class="nome">
          <h4>
            RECEITA
          </h4>
        </span>
        <div class="campos">
          <form>
            <input id="ipt_nomeReceita" required />
            <label>
              <span>Nome da receita :</span>
            </label>
          </form>
        </div>
        <div class="campos">
          <form>
            <input id="ipt_tempoReceita" required type="number" />
            <label>
              <span>Tempo da receita (digite o tempo em minutos):</span>
            </label>
          </form>
        </div>
        <div class="chk">
          <span>
            <h4>leite:</h4>
            <input type="checkbox" id="vehicle3" value="Boat">
          </span>
        </div>
        <button>Cadastrar</button>
      </div>
    </div>
  </div>
  
  </div>

</body>
</html>

<script>

  function login(){
    window.location.href = 'login.html';
  }

  function cadastrar() {
    var nomeReceita = ipt_nomeReceita.value;
    var tempoReceita = ipt_tempoReceita.value;
    var ingredientes = slc_ingredientes.value;

    if (
      nomeReceita == '' ||
      tempoReceita == '' ||
      ingredientes == ''
    ) {
      alert("Preencha todos os campo!")
      return false;
    }

    fetch("/aquario/cadastrar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vÃ¡ para o arquivo routes/usuario.js
        nomeReceita : nomeReceitaVar,
        tempoReceita : tempoReceitaVar,
        ingredientes : ingredientesVar
      }),
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

        if (resposta.ok) {

          // setTimeout(() => {
          //   window.location = "login.html";
          // }, "2000");
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
      });

    return false;
  }
</script>