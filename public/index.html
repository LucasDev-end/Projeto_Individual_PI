<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <title>Home</title>
  </head>
  <body>
    <div class="header">
      <div class="menu">
        <div class="home"><a href="index.html">HOME</a></div>
        <div class="sobre"><a href="index.html#sobre">Sobre</a></div>
        <div class="contato"><a href="index.html#contato">Contato</a></div>
        <div class="receitas"><a href="index.html#receitas">Receitas</a></div>
      </div>
      <div class="acesso">
        <div class="login" onclick="login()">
          <span>Login</span>
        </div>
        <div class="cadastro" onclick="cadastro()">
          <span>Cadastre-se</span>
        </div>
      </div>
    </div>
    <div class="section">
      <div class="imagem"></div>
      <div class="sobre-mim">
        <div class="pai-imagem">
          <div class="doma">
            <img src="./assets/imgs/doma.jpg" />
            <div id="sobre"></div>
          </div>
        </div>
        <div class="sobre-texto">
          <span>Sobre mim</span>
          <p>
            Desde pequeno, sempre fui muito curioso quando o assunto era cozinha. 
            Sempre companhava minha mãe em nos momentos em que ela preparava as 
            refeições, sempre observando como os ingredientes eram antes e como 
            eles se transformavam em pratos muito gostosos. Com o tempo, comecei 
            a me aprofundar nesse mundo da culinária, mais ainda no preparo de 
            doces e massas, pois abos eram o que eu mais exercitava. Cada receita 
            era uma oportunidade de uma nova aventura, um novo desafio, e eu 
            encarava cada prato como uma oportunidade de explorar novos sabores, 
            técnicas e combinações de ingredientes, cada receita era uma nova 
            aventura. Mas com o passar do tempo descobri novos gostos e a Culinaria 
            virou apenas um hobby.
          </p>
        </div>
      </div>
      <div class="sobre-mim2">
        <div class="pai-imagem2">
          <div class="eu">
            <img src="./assets/imgs/cozinhando.webp" />
          </div>
        </div>
        <div class="sobre-texto2">
          <span>Site</span>
          <p>
            Com a minha paixão por culinaria, resolvi compartilhar com você por meio 
            deste projeto projeto, como a consulta por receitas esta se tornando algo 
            cada vez mais facil, decidi criar mais um meio de busca. Aqui você pode 
            acessar varias receitas, e se inspirar cada vez mais para fazer novas 
            aventuras na sua cozinha, e além disso, você consegue consultar através 
            de graficos, varias curiosidades sobre esse mundo.
            Espero que você se divirta e se inspire ainda mais a explorar sabores 
            e criar pratos incríveis!
          </p>
        </div>
      </div>
      <div class="consulta-receitas" id="receitas">
        <div class="selecionar">
          <div class="campos-receita">
            <p>
              Aqui voce escolhe o tipo de receita que você quer encontrar, e
              vamos mostrar ao lado o que encontramos pra você
            </p>
            <span>
              <h4>Selecione uma categoria:</h4>
              <select id="slc_categoria">
                <option value="#"></option>
                <option value="1">Doce</option>
                <option value="2">Salgado</option>
                <option value="3">Massa</option>
              </select>
            </span>
            <span>
              <h4>Selecione o 1 ingrediente:</h4>
              <select id="slc_ingrediente1">
                <option value=""></option>
                <option value="Molho de tomate">Molho de Tomate</option>
                <option value="Presunto">Presunto</option>
                <option value="Farinha">Farinha</option>
              </select>
            </span>
            <span>
              <h4>Selecione o 2 ingrediente:</h4>
              <select id="slc_ingrediente2">
                <option value=""></option>
                <option value="Parmesão">Parmesão</option>
                <option value="Frango grelhado">Frango grelhado</option>
                <option value="Queijo">Queijo</option>
              </select>
            </span>
            <span>
              <h4>Selecione o 3 ingrediente:</h4>
              <select id="slc_ingrediente3">
                <option value=""></option>
                <option value="Massa de pizza">Massa de pizza</option>
                <option value="Açúcar">Açúcar</option>
                <option value="Calabresa">Calabresa</option>
              </select>
            </span>
            <button onclick="listar()">Buscar</button>
          </div>
        </div>
        <div class="mostrar">
          <div class="mensagem" id="receita_public" style="display: flex; flex-direction: column;">

          </div>
        </div>
      </div>
    </div>

    <div class="footer" id="contato">
      <div class="contato-info">
        <h2>Contato</h2>
          <span><img src="./assets/imgs/gps.png" alt="">Rua Haddock Lobo, 595 - Cerqueira César, São Paulo - SP,
            01414-001</span>
          <span><img src="./assets/imgs/o-email.png" alt="">lucas.marcolino@sptech.school</span>
        </div>
        <span>Developed by. Lucas marcolino</span>
        <span>Ra: 04242013</span>
        <span>1CCO-B</span>
      </div>
    </div>

  </body>
</html>
<script>
  function login(){
    window.location.href = 'login.html';
  }
  function cadastro(){
    window.location.href = 'cadastro.html';
  }





  function listar() {

    var categoria = slc_categoria.value;
    var ingrediente1 = slc_ingrediente1.value;
    var ingrediente2 = slc_ingrediente2.value;
    var ingrediente3 = slc_ingrediente3.value;

    fetch("/aquarios/listar", {
        method: "POST", 
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
        categoriaderver: categoria, 
        ingrediende1Server: ingrediente1, 
        ingrediende2Server: ingrediente2, 
        ingrediende3Server: ingrediente3
      })
    }).then(function (receita) {
        if (receita.ok) {
            if (receita.status == 204) {
                throw "Nenhum resultado encontrado!!";
            }

            receita.json().then(function (receita) {
                console.log("Receitas recebidss: ", JSON.stringify(receita));

                for (let i = 0; i < 1; i++) {
                    var receita = receita[i];

                    var nome = receita.nome;
                    var tempoPreparo = receita.tempoPreparo;
                    var nomeCategoria = receita.nomeCategoria;
                    var ingrediente1 = receita.ingrediente1;
                    var ingrediente2 = receita.ingrediente2;
                    var ingrediente3 = receita.ingrediente3;
                    var ingrediente4 = receita.ingrediente4;
                    var ingrediente5 = receita.ingrediente5;
                    var ingrediente6 = receita.ingrediente6;
                    var ingrediente7 = receita.ingrediente7;
                    var ingrediente8 = receita.ingrediente8;
                    var ingrediente9 = receita.ingrediente9;
                    var ingrediente10 = receita.ingrediente10;

                    receita_public.innerHTML = `<span><b>${nome}</b></span><br>`
                    receita_public.innerHTML += `<span>Tempo de preparo: ${tempoPreparo} minutos</span>`
                    receita_public.innerHTML += `<span>Categoria: ${nomeCategoria}</span><br>`
                    receita_public.innerHTML += `<span><b>Ingredientes Necessários</b></span><br>`

                    if( ingrediente1 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente1}</span>`
                    }
                    if( ingrediente2 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente2} </span>`                      
                    }
                    if( ingrediente3 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente3} </span>`                      
                    }
                    if( ingrediente4 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente4} </span>`                      
                    }
                    if( ingrediente5 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente5} </span>`                      
                    }
                    if( ingrediente6 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente6} </span>`                      
                    }
                    if( ingrediente7 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente7} </span>`                      
                    }
                    if( ingrediente8 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente8} </span>`                      
                    }
                    if( ingrediente9 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente9} </span>`                      
                    }
                    if( ingrediente10 != null){
                        receita_public.innerHTML += `<span class="text_ingredientes">${ingrediente10} </span>`                      
                    }
                   
                }

            });
        } else {
            throw ('Houve um erro na API!');
        }
    }).catch(function (receita) {
        console.error(receita);
    });
  }

  






  // function cadastrar() {
  //   var categoria = slc_categoria.value
  //   var ingrediente1 = slc_ingrediente1.value
  //   var ingrediente2 = slc_ingrediente2.value
  //   var ingrediente3 = slc_ingrediente3.value

  //   if (
  //     categoria == '' ||
  //     ingrediente1 == '' ||
  //     ingrediente2 == '' ||
  //     ingrediente3 == ''
  //   ) {
  //     alert("Preencha todos os campos!")
  //     return false;
  //   }

  //   fetch("/usuarios/cadastrar", {
  //     method: "POST",
  //     headers: {
  //       "Content-Type": "application/json",
  //     },
  //     body: JSON.stringify({
  //       // crie um atributo que recebe o valor recuperado aqui
  //       // Agora vá para o arquivo routes/usuario.js
  //       nomeServer: categoria,
  //       emailServer: ingrediente1,
  //       cidadeServer: ingrediente2, 
  //       estadosServer: ingrediente3
  //     }),
  //   })
  //     .then(function (resposta) {
  //       console.log("resposta: ", resposta);

  //       if (resposta.ok) {

  //         setTimeout(() => {
  //           window.location = "login.html";
  //         }, "2000");
  //       } else {
  //         throw "Houve um erro ao tentar realizar o cadastro!";
  //       }
  //     })
  //     .catch(function (resposta) {
  //       console.log(`#ERRO: ${resposta}`);
  //     });

  //   return false;
  // }
</script>
